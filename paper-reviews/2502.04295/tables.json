[{"content": "<table class=\"ltx_tabular ltx_centering ltx_align_middle\" id=\"S3.T1.1\">\n<tr class=\"ltx_tr\" id=\"S3.T1.1.1\">\n<td class=\"ltx_td ltx_align_left ltx_border_tt ltx_border_t\" id=\"S3.T1.1.1.1\"><span class=\"ltx_text ltx_font_bold\" id=\"S3.T1.1.1.1.1\">Method</span></td>\n<td class=\"ltx_td ltx_align_center ltx_border_tt ltx_border_t\" id=\"S3.T1.1.1.2\"><span class=\"ltx_text ltx_font_bold\" id=\"S3.T1.1.1.2.1\">Mistral-7B-v0.1</span></td>\n<td class=\"ltx_td ltx_align_center ltx_border_tt ltx_border_t\" id=\"S3.T1.1.1.3\"><span class=\"ltx_text ltx_font_bold\" id=\"S3.T1.1.1.3.1\">LLaMA-3.1-8B</span></td>\n<td class=\"ltx_td ltx_align_center ltx_border_tt ltx_border_t\" id=\"S3.T1.1.1.4\"><span class=\"ltx_text ltx_font_bold\" id=\"S3.T1.1.1.4.1\">LLaMA-3-8B-Instruct</span></td>\n<td class=\"ltx_td ltx_align_center ltx_border_tt ltx_border_t\" id=\"S3.T1.1.1.5\"><span class=\"ltx_text ltx_font_bold\" id=\"S3.T1.1.1.5.1\">Phi-3-Mini-Instruct</span></td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S3.T1.1.2\">\n<td class=\"ltx_td ltx_align_center ltx_border_t\" colspan=\"5\" id=\"S3.T1.1.2.1\">\n<span class=\"ltx_rule\" style=\"width:0.0pt;height:10.8pt;background:black;display:inline-block;\"></span><span class=\"ltx_text ltx_font_bold ltx_font_italic\" id=\"S3.T1.1.2.1.1\">GSM8K<span class=\"ltx_rule\" style=\"width:0.0pt;height:10.8pt;background:black;display:inline-block;\"></span></span>\n</td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S3.T1.1.3\">\n<td class=\"ltx_td ltx_align_left\" id=\"S3.T1.1.3.1\">Baseline (1-shot cot)</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.3.2\">36.85</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.3.3\">50.03</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.3.4\">74.00</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.3.5\">83.45</td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S3.T1.1.4\">\n<td class=\"ltx_td ltx_align_left\" id=\"S3.T1.1.4.1\">Baseline (8-shot cot)</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.4.2\">38.21</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.4.3\">51.02</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.4.4\">73.46</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.4.5\">85.75</td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S3.T1.1.5\">\n<td class=\"ltx_td ltx_align_left\" id=\"S3.T1.1.5.1\">GRIPS</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.5.2\">39.04</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.5.3\">50.27</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.5.4\">74.53</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.5.5\">83.47</td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S3.T1.1.6\">\n<td class=\"ltx_td ltx_align_left\" id=\"S3.T1.1.6.1\">APE</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.6.2\">40.33</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.6.3\">52.39</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.6.4\">75.13</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.6.5\">83.85</td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S3.T1.1.7\">\n<td class=\"ltx_td ltx_align_left\" id=\"S3.T1.1.7.1\">ProTeGi</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.7.2\">45.72</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.7.3\">54.74</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.7.4\">75.36</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.7.5\">84.84</td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S3.T1.1.8\">\n<td class=\"ltx_td ltx_align_left\" id=\"S3.T1.1.8.1\">SAMMO</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.8.2\">43.82</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.8.3\">54.74</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.8.4\">75.89</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.8.5\">84.76</td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S3.T1.1.9\">\n<td class=\"ltx_td ltx_align_left\" id=\"S3.T1.1.9.1\">\n<span class=\"ltx_text ltx_font_bold\" id=\"S3.T1.1.9.1.1\">CFPO</span> (<span class=\"ltx_text ltx_font_italic\" id=\"S3.T1.1.9.1.2\">Ours</span>)</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.9.2\"><span class=\"ltx_text ltx_font_bold\" id=\"S3.T1.1.9.2.1\">53.22</span></td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.9.3\"><span class=\"ltx_text ltx_font_bold\" id=\"S3.T1.1.9.3.1\">63.38</span></td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.9.4\"><span class=\"ltx_text ltx_font_bold\" id=\"S3.T1.1.9.4.1\">80.74</span></td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.9.5\"><span class=\"ltx_text ltx_font_bold\" id=\"S3.T1.1.9.5.1\">89.16</span></td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S3.T1.1.10\">\n<td class=\"ltx_td ltx_align_center ltx_border_t\" colspan=\"5\" id=\"S3.T1.1.10.1\">\n<span class=\"ltx_rule\" style=\"width:0.0pt;height:10.8pt;background:black;display:inline-block;\"></span><span class=\"ltx_text ltx_font_bold ltx_font_italic\" id=\"S3.T1.1.10.1.1\">MATH-500<span class=\"ltx_rule\" style=\"width:0.0pt;height:10.8pt;background:black;display:inline-block;\"></span></span>\n</td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S3.T1.1.11\">\n<td class=\"ltx_td ltx_align_left\" id=\"S3.T1.1.11.1\">Baseline (1-shot cot)</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.11.2\">4.60</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.11.3\">10.58</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.11.4\">12.20</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.11.5\">12.60</td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S3.T1.1.12\">\n<td class=\"ltx_td ltx_align_left\" id=\"S3.T1.1.12.1\">Baseline (4-shot cot)</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.12.2\">10.20</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.12.3\">23.40</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.12.4\">14.00</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.12.5\">40.40</td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S3.T1.1.13\">\n<td class=\"ltx_td ltx_align_left\" id=\"S3.T1.1.13.1\">GRIPS</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.13.2\">13.40</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.13.3\">15.80</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.13.4\">23.60</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.13.5\">10.80</td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S3.T1.1.14\">\n<td class=\"ltx_td ltx_align_left\" id=\"S3.T1.1.14.1\">APE</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.14.2\">11.60</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.14.3\">12.80</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.14.4\">22.80</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.14.5\">30.60</td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S3.T1.1.15\">\n<td class=\"ltx_td ltx_align_left\" id=\"S3.T1.1.15.1\">ProTeGi</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.15.2\">10.80</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.15.3\">17.00</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.15.4\">18.40</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.15.5\">28.80</td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S3.T1.1.16\">\n<td class=\"ltx_td ltx_align_left\" id=\"S3.T1.1.16.1\">SAMMO</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.16.2\">12.20</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.16.3\">15.40</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.16.4\">25.80</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.16.5\">42.40</td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S3.T1.1.17\">\n<td class=\"ltx_td ltx_align_left\" id=\"S3.T1.1.17.1\">\n<span class=\"ltx_text ltx_font_bold\" id=\"S3.T1.1.17.1.1\">CFPO</span> (<span class=\"ltx_text ltx_font_italic\" id=\"S3.T1.1.17.1.2\">Ours</span>)</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.17.2\"><span class=\"ltx_text ltx_font_bold\" id=\"S3.T1.1.17.2.1\">14.80</span></td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.17.3\"><span class=\"ltx_text ltx_font_bold\" id=\"S3.T1.1.17.3.1\">26.99</span></td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.17.4\"><span class=\"ltx_text ltx_font_bold\" id=\"S3.T1.1.17.4.1\">33.33</span></td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.17.5\"><span class=\"ltx_text ltx_font_bold\" id=\"S3.T1.1.17.5.1\">44.20</span></td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S3.T1.1.18\">\n<td class=\"ltx_td ltx_align_center ltx_border_t\" colspan=\"5\" id=\"S3.T1.1.18.1\">\n<span class=\"ltx_rule\" style=\"width:0.0pt;height:10.8pt;background:black;display:inline-block;\"></span><span class=\"ltx_text ltx_font_bold ltx_font_italic\" id=\"S3.T1.1.18.1.1\">ARC-Challenge<span class=\"ltx_rule\" style=\"width:0.0pt;height:10.8pt;background:black;display:inline-block;\"></span></span>\n</td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S3.T1.1.19\">\n<td class=\"ltx_td ltx_align_left\" id=\"S3.T1.1.19.1\">Baseline</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.19.2\">67.15</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.19.3\">73.81</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.19.4\">75.94</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.19.5\">84.39</td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S3.T1.1.20\">\n<td class=\"ltx_td ltx_align_left\" id=\"S3.T1.1.20.1\">GRIPS</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.20.2\">77.05</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.20.3\">77.90</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.20.4\">79.61</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.20.5\">87.46</td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S3.T1.1.21\">\n<td class=\"ltx_td ltx_align_left\" id=\"S3.T1.1.21.1\">APE</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.21.2\">75.85</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.21.3\">77.05</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.21.4\">78.67</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.21.5\">87.63</td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S3.T1.1.22\">\n<td class=\"ltx_td ltx_align_left\" id=\"S3.T1.1.22.1\">ProTeGi</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.22.2\">76.54</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.22.3\">77.22</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.22.4\">79.86</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.22.5\">87.54</td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S3.T1.1.23\">\n<td class=\"ltx_td ltx_align_left\" id=\"S3.T1.1.23.1\">SAMMO</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.23.2\">77.22</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.23.3\">77.13</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.23.4\">79.86</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.23.5\">87.03</td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S3.T1.1.24\">\n<td class=\"ltx_td ltx_align_left\" id=\"S3.T1.1.24.1\">\n<span class=\"ltx_text ltx_font_bold\" id=\"S3.T1.1.24.1.1\">CFPO</span> (<span class=\"ltx_text ltx_font_italic\" id=\"S3.T1.1.24.1.2\">Ours</span>)</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.24.2\"><span class=\"ltx_text ltx_font_bold\" id=\"S3.T1.1.24.2.1\">79.35</span></td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.24.3\"><span class=\"ltx_text ltx_font_bold\" id=\"S3.T1.1.24.3.1\">78.50</span></td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.24.4\"><span class=\"ltx_text ltx_font_bold\" id=\"S3.T1.1.24.4.1\">80.63</span></td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.24.5\"><span class=\"ltx_text ltx_font_bold\" id=\"S3.T1.1.24.5.1\">88.23</span></td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S3.T1.1.25\">\n<td class=\"ltx_td ltx_align_center ltx_border_t\" colspan=\"5\" id=\"S3.T1.1.25.1\">\n<span class=\"ltx_rule\" style=\"width:0.0pt;height:10.8pt;background:black;display:inline-block;\"></span><span class=\"ltx_text ltx_font_bold ltx_font_italic\" id=\"S3.T1.1.25.1.1\">Big-Bench Classification<span class=\"ltx_rule\" style=\"width:0.0pt;height:10.8pt;background:black;display:inline-block;\"></span></span>\n</td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S3.T1.1.26\">\n<td class=\"ltx_td ltx_align_left\" id=\"S3.T1.1.26.1\">Baseline</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.26.2\">56.00</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.26.3\">64.00</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.26.4\">70.00</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.26.5\">54.00</td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S3.T1.1.27\">\n<td class=\"ltx_td ltx_align_left\" id=\"S3.T1.1.27.1\">GRIPS</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.27.2\">86.00</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.27.3\">67.00</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.27.4\">84.00</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.27.5\">69.00</td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S3.T1.1.28\">\n<td class=\"ltx_td ltx_align_left\" id=\"S3.T1.1.28.1\">APE</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.28.2\">73.00</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.28.3\">65.00</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.28.4\">60.00</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.28.5\">63.00</td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S3.T1.1.29\">\n<td class=\"ltx_td ltx_align_left\" id=\"S3.T1.1.29.1\">ProTeGi</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.29.2\">83.00</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.29.3\">81.00</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.29.4\">82.00</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.29.5\">76.00</td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S3.T1.1.30\">\n<td class=\"ltx_td ltx_align_left\" id=\"S3.T1.1.30.1\">SAMMO</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.30.2\">86.00</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.30.3\">80.00</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.30.4\">86.00</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S3.T1.1.30.5\">78.00</td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S3.T1.1.31\">\n<td class=\"ltx_td ltx_align_left ltx_border_bb ltx_border_b\" id=\"S3.T1.1.31.1\">\n<span class=\"ltx_text ltx_font_bold\" id=\"S3.T1.1.31.1.1\">CFPO</span> (<span class=\"ltx_text ltx_font_italic\" id=\"S3.T1.1.31.1.2\">Ours</span>)</td>\n<td class=\"ltx_td ltx_align_center ltx_border_bb ltx_border_b\" id=\"S3.T1.1.31.2\"><span class=\"ltx_text ltx_font_bold\" id=\"S3.T1.1.31.2.1\">94.00</span></td>\n<td class=\"ltx_td ltx_align_center ltx_border_bb ltx_border_b\" id=\"S3.T1.1.31.3\"><span class=\"ltx_text ltx_font_bold\" id=\"S3.T1.1.31.3.1\">90.00</span></td>\n<td class=\"ltx_td ltx_align_center ltx_border_bb ltx_border_b\" id=\"S3.T1.1.31.4\"><span class=\"ltx_text ltx_font_bold\" id=\"S3.T1.1.31.4.1\">91.00</span></td>\n<td class=\"ltx_td ltx_align_center ltx_border_bb ltx_border_b\" id=\"S3.T1.1.31.5\"><span class=\"ltx_text ltx_font_bold\" id=\"S3.T1.1.31.5.1\">87.00</span></td>\n</tr>\n</table>", "caption": "Table 1: \nMain results on math reasoning tasks and commonsense reasoning tasks.", "description": "This table presents the main quantitative results of the experiments conducted in the paper. It shows the performance comparison between CFPO (the proposed method) and several baseline methods across four different tasks: GSM8K (math reasoning), MATH500 (math reasoning), ARC-Challenge (multiple-choice commonsense reasoning), and Big-Bench Classification (classification). The results are presented separately for each of the four tasks, indicating the accuracy achieved by each model on each task.  Different LLMs were used, including Mistral-7B-v0.1, LLaMA-3.1-8B, LLaMA-3-8B-Instruct, and Phi-3-Mini-Instruct. This allows for an evaluation of the method's performance under various conditions and LLMs.", "section": "4 Experiments"}, {"content": "<table class=\"ltx_tabular ltx_align_middle\" id=\"S4.T2.4.4\">\n<tr class=\"ltx_tr\" id=\"S4.T2.4.4.5\">\n<td class=\"ltx_td ltx_align_left ltx_border_r ltx_border_t\" id=\"S4.T2.4.4.5.1\"><span class=\"ltx_text ltx_font_bold\" id=\"S4.T2.4.4.5.1.1\">Task</span></td>\n<td class=\"ltx_td ltx_align_left ltx_border_r ltx_border_t\" id=\"S4.T2.4.4.5.2\"><span class=\"ltx_text ltx_font_bold\" id=\"S4.T2.4.4.5.2.1\">Method</span></td>\n<td class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\" id=\"S4.T2.4.4.5.3\"><span class=\"ltx_text ltx_font_bold\" id=\"S4.T2.4.4.5.3.1\">LLaMA-3.1-8B</span></td>\n<td class=\"ltx_td ltx_align_center ltx_border_t\" id=\"S4.T2.4.4.5.4\"><span class=\"ltx_text ltx_font_bold\" id=\"S4.T2.4.4.5.4.1\">LLaMA-3-8B-Instruct</span></td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S4.T2.4.4.6\">\n<td class=\"ltx_td ltx_align_left ltx_border_r ltx_border_t\" id=\"S4.T2.4.4.6.1\" rowspan=\"4\"><span class=\"ltx_text\" id=\"S4.T2.4.4.6.1.1\">GSM8K</span></td>\n<td class=\"ltx_td ltx_align_left ltx_border_r ltx_border_t\" id=\"S4.T2.4.4.6.2\">ProTeGi</td>\n<td class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\" id=\"S4.T2.4.4.6.3\">54.74</td>\n<td class=\"ltx_td ltx_align_center ltx_border_t\" id=\"S4.T2.4.4.6.4\">75.36</td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S4.T2.1.1.1\">\n<td class=\"ltx_td ltx_align_left ltx_border_r\" id=\"S4.T2.1.1.1.1\">CFPO<sub class=\"ltx_sub\" id=\"S4.T2.1.1.1.1.1\"><span class=\"ltx_text ltx_font_italic\" id=\"S4.T2.1.1.1.1.1.1\">c</span></sub>\n</td>\n<td class=\"ltx_td ltx_align_center ltx_border_r\" id=\"S4.T2.1.1.1.2\">58.07</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S4.T2.1.1.1.3\">77.71</td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S4.T2.2.2.2\">\n<td class=\"ltx_td ltx_align_left ltx_border_r\" id=\"S4.T2.2.2.2.1\">CFPO<sub class=\"ltx_sub\" id=\"S4.T2.2.2.2.1.1\"><span class=\"ltx_text ltx_font_italic\" id=\"S4.T2.2.2.2.1.1.1\">c</span></sub>+Format</td>\n<td class=\"ltx_td ltx_align_center ltx_border_r\" id=\"S4.T2.2.2.2.2\">61.94</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S4.T2.2.2.2.3\">79.30</td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S4.T2.4.4.7\">\n<td class=\"ltx_td ltx_align_left ltx_border_r\" id=\"S4.T2.4.4.7.1\"><span class=\"ltx_text ltx_font_bold\" id=\"S4.T2.4.4.7.1.1\">CFPO</span></td>\n<td class=\"ltx_td ltx_align_center ltx_border_r\" id=\"S4.T2.4.4.7.2\"><span class=\"ltx_text ltx_font_bold\" id=\"S4.T2.4.4.7.2.1\">63.38</span></td>\n<td class=\"ltx_td ltx_align_center\" id=\"S4.T2.4.4.7.3\"><span class=\"ltx_text ltx_font_bold\" id=\"S4.T2.4.4.7.3.1\">80.74</span></td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S4.T2.4.4.8\">\n<td class=\"ltx_td ltx_align_left ltx_border_b ltx_border_r ltx_border_t\" id=\"S4.T2.4.4.8.1\" rowspan=\"4\"><span class=\"ltx_text\" id=\"S4.T2.4.4.8.1.1\">BBC</span></td>\n<td class=\"ltx_td ltx_align_left ltx_border_r ltx_border_t\" id=\"S4.T2.4.4.8.2\">ProTeGi</td>\n<td class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\" id=\"S4.T2.4.4.8.3\">81.00</td>\n<td class=\"ltx_td ltx_align_center ltx_border_t\" id=\"S4.T2.4.4.8.4\">82.00</td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S4.T2.3.3.3\">\n<td class=\"ltx_td ltx_align_left ltx_border_r\" id=\"S4.T2.3.3.3.1\">CFPO<sub class=\"ltx_sub\" id=\"S4.T2.3.3.3.1.1\"><span class=\"ltx_text ltx_font_italic\" id=\"S4.T2.3.3.3.1.1.1\">c</span></sub>\n</td>\n<td class=\"ltx_td ltx_align_center ltx_border_r\" id=\"S4.T2.3.3.3.2\">85.00</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S4.T2.3.3.3.3\">85.00</td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S4.T2.4.4.4\">\n<td class=\"ltx_td ltx_align_left ltx_border_r\" id=\"S4.T2.4.4.4.1\">CFPO<sub class=\"ltx_sub\" id=\"S4.T2.4.4.4.1.1\"><span class=\"ltx_text ltx_font_italic\" id=\"S4.T2.4.4.4.1.1.1\">c</span></sub>+Format</td>\n<td class=\"ltx_td ltx_align_center ltx_border_r\" id=\"S4.T2.4.4.4.2\">88.00</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S4.T2.4.4.4.3\">89.00</td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S4.T2.4.4.9\">\n<td class=\"ltx_td ltx_align_left ltx_border_b ltx_border_r\" id=\"S4.T2.4.4.9.1\"><span class=\"ltx_text ltx_font_bold\" id=\"S4.T2.4.4.9.1.1\">CFPO</span></td>\n<td class=\"ltx_td ltx_align_center ltx_border_b ltx_border_r\" id=\"S4.T2.4.4.9.2\"><span class=\"ltx_text ltx_font_bold\" id=\"S4.T2.4.4.9.2.1\">90.00</span></td>\n<td class=\"ltx_td ltx_align_center ltx_border_b\" id=\"S4.T2.4.4.9.3\"><span class=\"ltx_text ltx_font_bold\" id=\"S4.T2.4.4.9.3.1\">91.00</span></td>\n</tr>\n</table>", "caption": "Table 2: Ablation study of the format optimizer and content optimizer. CFPOc\ud835\udc50{c}italic_c performs content optimization with a fixed format. CFPOc\ud835\udc50{c}italic_c+Format performs format optimization after content optimization.", "description": "This ablation study analyzes the contributions of the format and content optimizers within the CFPO framework.  Three variations are compared: the full CFPO model (which optimizes both content and format iteratively), CFPOc (which only optimizes content with a fixed, initial format), and CFPO+Format (which optimizes content first, then performs a separate format optimization step). The results illustrate the relative importance of each component to CFPO's overall performance, demonstrating the synergistic effect of optimizing content and format together.", "section": "4.3 Ablation Study"}, {"content": "<table class=\"ltx_tabular ltx_align_middle\" id=\"S4.T3.1.1\">\n<tr class=\"ltx_tr\" id=\"S4.T3.1.1.1\">\n<td class=\"ltx_td ltx_align_left ltx_border_r ltx_border_t\" id=\"S4.T3.1.1.1.1\"><span class=\"ltx_text ltx_font_bold\" id=\"S4.T3.1.1.1.1.1\">Task</span></td>\n<td class=\"ltx_td ltx_align_left ltx_border_r ltx_border_t\" id=\"S4.T3.1.1.1.2\"><span class=\"ltx_text ltx_font_bold\" id=\"S4.T3.1.1.1.2.1\">Method</span></td>\n<td class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\" id=\"S4.T3.1.1.1.3\"><span class=\"ltx_text ltx_font_bold\" id=\"S4.T3.1.1.1.3.1\">LLaMA-3.1-8B</span></td>\n<td class=\"ltx_td ltx_align_center ltx_border_t\" id=\"S4.T3.1.1.1.4\"><span class=\"ltx_text ltx_font_bold\" id=\"S4.T3.1.1.1.4.1\">LLaMA-3-8B-Instruct</span></td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S4.T3.1.1.2\">\n<td class=\"ltx_td ltx_align_left ltx_border_r ltx_border_t\" id=\"S4.T3.1.1.2.1\" rowspan=\"2\"><span class=\"ltx_text\" id=\"S4.T3.1.1.2.1.1\">GSM8K</span></td>\n<td class=\"ltx_td ltx_align_left ltx_border_r ltx_border_t\" id=\"S4.T3.1.1.2.2\">w/o Format Gen</td>\n<td class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\" id=\"S4.T3.1.1.2.3\">62.70</td>\n<td class=\"ltx_td ltx_align_center ltx_border_t\" id=\"S4.T3.1.1.2.4\">78.85</td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S4.T3.1.1.3\">\n<td class=\"ltx_td ltx_align_left ltx_border_r\" id=\"S4.T3.1.1.3.1\">with Format Gen</td>\n<td class=\"ltx_td ltx_align_center ltx_border_r\" id=\"S4.T3.1.1.3.2\"><span class=\"ltx_text ltx_font_bold\" id=\"S4.T3.1.1.3.2.1\">63.38</span></td>\n<td class=\"ltx_td ltx_align_center\" id=\"S4.T3.1.1.3.3\"><span class=\"ltx_text ltx_font_bold\" id=\"S4.T3.1.1.3.3.1\">80.74</span></td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S4.T3.1.1.4\">\n<td class=\"ltx_td ltx_align_left ltx_border_b ltx_border_r ltx_border_t\" id=\"S4.T3.1.1.4.1\" rowspan=\"2\"><span class=\"ltx_text\" id=\"S4.T3.1.1.4.1.1\">BBC</span></td>\n<td class=\"ltx_td ltx_align_left ltx_border_r ltx_border_t\" id=\"S4.T3.1.1.4.2\">w/o Format Gen</td>\n<td class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\" id=\"S4.T3.1.1.4.3\">88.00</td>\n<td class=\"ltx_td ltx_align_center ltx_border_t\" id=\"S4.T3.1.1.4.4\">87.00</td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S4.T3.1.1.5\">\n<td class=\"ltx_td ltx_align_left ltx_border_b ltx_border_r\" id=\"S4.T3.1.1.5.1\">with Format Gen</td>\n<td class=\"ltx_td ltx_align_center ltx_border_b ltx_border_r\" id=\"S4.T3.1.1.5.2\"><span class=\"ltx_text ltx_font_bold\" id=\"S4.T3.1.1.5.2.1\">90.00</span></td>\n<td class=\"ltx_td ltx_align_center ltx_border_b\" id=\"S4.T3.1.1.5.3\"><span class=\"ltx_text ltx_font_bold\" id=\"S4.T3.1.1.5.3.1\">91.00</span></td>\n</tr>\n</table>", "caption": "Table 3: Impact of format generation during prompt optimization.", "description": "This table presents the results of an ablation study investigating the impact of using an LLM-assisted format generation process within the CFPO framework.  It compares the performance of CFPO with and without the LLM-based format generation on two tasks: GSM8K and Big-Bench Classification (BBC).  The comparison shows the improvement achieved by dynamically generating new formats during the optimization process versus using only pre-defined formats. The performance metric is likely accuracy or a similar metric reflecting the effectiveness of the prompt. This table demonstrates the importance of the LLM-assisted format generation component in CFPO.", "section": "4.3 Ablation Study"}, {"content": "<table class=\"ltx_tabular ltx_align_middle\" id=\"S4.T4.2.2\">\n<tr class=\"ltx_tr\" id=\"S4.T4.2.2.3\">\n<td class=\"ltx_td ltx_align_left ltx_border_r ltx_border_t\" id=\"S4.T4.2.2.3.1\"><span class=\"ltx_text ltx_font_bold\" id=\"S4.T4.2.2.3.1.1\">Task</span></td>\n<td class=\"ltx_td ltx_align_left ltx_border_r ltx_border_t\" id=\"S4.T4.2.2.3.2\"><span class=\"ltx_text ltx_font_bold\" id=\"S4.T4.2.2.3.2.1\">Method</span></td>\n<td class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\" id=\"S4.T4.2.2.3.3\"><span class=\"ltx_text ltx_font_bold\" id=\"S4.T4.2.2.3.3.1\">LLaMA-3.1-8B</span></td>\n<td class=\"ltx_td ltx_align_center ltx_border_t\" id=\"S4.T4.2.2.3.4\"><span class=\"ltx_text ltx_font_bold\" id=\"S4.T4.2.2.3.4.1\">LLaMA-3-8B-Instruct</span></td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S4.T4.2.2.4\">\n<td class=\"ltx_td ltx_border_r ltx_border_t\" id=\"S4.T4.2.2.4.1\"></td>\n<td class=\"ltx_td ltx_align_left ltx_border_r ltx_border_t\" id=\"S4.T4.2.2.4.2\">Random</td>\n<td class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\" id=\"S4.T4.2.2.4.3\">62.40</td>\n<td class=\"ltx_td ltx_align_center ltx_border_t\" id=\"S4.T4.2.2.4.4\">78.82</td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S4.T4.1.1.1\">\n<td class=\"ltx_td ltx_align_left ltx_border_r\" id=\"S4.T4.1.1.1.2\">GSM8K</td>\n<td class=\"ltx_td ltx_align_left ltx_border_r\" id=\"S4.T4.1.1.1.1\">UCT(<math alttext=\"\\alpha=0\" class=\"ltx_Math\" display=\"inline\" id=\"S4.T4.1.1.1.1.m1.1\"><semantics id=\"S4.T4.1.1.1.1.m1.1a\"><mrow id=\"S4.T4.1.1.1.1.m1.1.1\" xref=\"S4.T4.1.1.1.1.m1.1.1.cmml\"><mi id=\"S4.T4.1.1.1.1.m1.1.1.2\" xref=\"S4.T4.1.1.1.1.m1.1.1.2.cmml\">\u03b1</mi><mo id=\"S4.T4.1.1.1.1.m1.1.1.1\" xref=\"S4.T4.1.1.1.1.m1.1.1.1.cmml\">=</mo><mn id=\"S4.T4.1.1.1.1.m1.1.1.3\" xref=\"S4.T4.1.1.1.1.m1.1.1.3.cmml\">0</mn></mrow><annotation-xml encoding=\"MathML-Content\" id=\"S4.T4.1.1.1.1.m1.1b\"><apply id=\"S4.T4.1.1.1.1.m1.1.1.cmml\" xref=\"S4.T4.1.1.1.1.m1.1.1\"><eq id=\"S4.T4.1.1.1.1.m1.1.1.1.cmml\" xref=\"S4.T4.1.1.1.1.m1.1.1.1\"></eq><ci id=\"S4.T4.1.1.1.1.m1.1.1.2.cmml\" xref=\"S4.T4.1.1.1.1.m1.1.1.2\">\ud835\udefc</ci><cn id=\"S4.T4.1.1.1.1.m1.1.1.3.cmml\" type=\"integer\" xref=\"S4.T4.1.1.1.1.m1.1.1.3\">0</cn></apply></annotation-xml><annotation encoding=\"application/x-tex\" id=\"S4.T4.1.1.1.1.m1.1c\">\\alpha=0</annotation><annotation encoding=\"application/x-llamapun\" id=\"S4.T4.1.1.1.1.m1.1d\">italic_\u03b1 = 0</annotation></semantics></math>)</td>\n<td class=\"ltx_td ltx_align_center ltx_border_r\" id=\"S4.T4.1.1.1.3\">63.23</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S4.T4.1.1.1.4\">79.08</td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S4.T4.2.2.5\">\n<td class=\"ltx_td ltx_border_r\" id=\"S4.T4.2.2.5.1\"></td>\n<td class=\"ltx_td ltx_align_left ltx_border_r\" id=\"S4.T4.2.2.5.2\">UCT(ours)</td>\n<td class=\"ltx_td ltx_align_center ltx_border_r\" id=\"S4.T4.2.2.5.3\"><span class=\"ltx_text ltx_font_bold\" id=\"S4.T4.2.2.5.3.1\">63.38</span></td>\n<td class=\"ltx_td ltx_align_center\" id=\"S4.T4.2.2.5.4\"><span class=\"ltx_text ltx_font_bold\" id=\"S4.T4.2.2.5.4.1\">80.74</span></td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S4.T4.2.2.6\">\n<td class=\"ltx_td ltx_border_r ltx_border_t\" id=\"S4.T4.2.2.6.1\"></td>\n<td class=\"ltx_td ltx_align_left ltx_border_r ltx_border_t\" id=\"S4.T4.2.2.6.2\">Random</td>\n<td class=\"ltx_td ltx_align_center ltx_border_r ltx_border_t\" id=\"S4.T4.2.2.6.3\">85.00</td>\n<td class=\"ltx_td ltx_align_center ltx_border_t\" id=\"S4.T4.2.2.6.4\">87.00</td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S4.T4.2.2.2\">\n<td class=\"ltx_td ltx_align_left ltx_border_r\" id=\"S4.T4.2.2.2.2\">BBH</td>\n<td class=\"ltx_td ltx_align_left ltx_border_r\" id=\"S4.T4.2.2.2.1\">UCT(<math alttext=\"\\alpha=0\" class=\"ltx_Math\" display=\"inline\" id=\"S4.T4.2.2.2.1.m1.1\"><semantics id=\"S4.T4.2.2.2.1.m1.1a\"><mrow id=\"S4.T4.2.2.2.1.m1.1.1\" xref=\"S4.T4.2.2.2.1.m1.1.1.cmml\"><mi id=\"S4.T4.2.2.2.1.m1.1.1.2\" xref=\"S4.T4.2.2.2.1.m1.1.1.2.cmml\">\u03b1</mi><mo id=\"S4.T4.2.2.2.1.m1.1.1.1\" xref=\"S4.T4.2.2.2.1.m1.1.1.1.cmml\">=</mo><mn id=\"S4.T4.2.2.2.1.m1.1.1.3\" xref=\"S4.T4.2.2.2.1.m1.1.1.3.cmml\">0</mn></mrow><annotation-xml encoding=\"MathML-Content\" id=\"S4.T4.2.2.2.1.m1.1b\"><apply id=\"S4.T4.2.2.2.1.m1.1.1.cmml\" xref=\"S4.T4.2.2.2.1.m1.1.1\"><eq id=\"S4.T4.2.2.2.1.m1.1.1.1.cmml\" xref=\"S4.T4.2.2.2.1.m1.1.1.1\"></eq><ci id=\"S4.T4.2.2.2.1.m1.1.1.2.cmml\" xref=\"S4.T4.2.2.2.1.m1.1.1.2\">\ud835\udefc</ci><cn id=\"S4.T4.2.2.2.1.m1.1.1.3.cmml\" type=\"integer\" xref=\"S4.T4.2.2.2.1.m1.1.1.3\">0</cn></apply></annotation-xml><annotation encoding=\"application/x-tex\" id=\"S4.T4.2.2.2.1.m1.1c\">\\alpha=0</annotation><annotation encoding=\"application/x-llamapun\" id=\"S4.T4.2.2.2.1.m1.1d\">italic_\u03b1 = 0</annotation></semantics></math>)</td>\n<td class=\"ltx_td ltx_align_center ltx_border_r\" id=\"S4.T4.2.2.2.3\">86.00</td>\n<td class=\"ltx_td ltx_align_center\" id=\"S4.T4.2.2.2.4\">88.00</td>\n</tr>\n<tr class=\"ltx_tr\" id=\"S4.T4.2.2.7\">\n<td class=\"ltx_td ltx_border_b ltx_border_r\" id=\"S4.T4.2.2.7.1\"></td>\n<td class=\"ltx_td ltx_align_left ltx_border_b ltx_border_r\" id=\"S4.T4.2.2.7.2\">UCT(ours)</td>\n<td class=\"ltx_td ltx_align_center ltx_border_b ltx_border_r\" id=\"S4.T4.2.2.7.3\"><span class=\"ltx_text ltx_font_bold\" id=\"S4.T4.2.2.7.3.1\">90.00</span></td>\n<td class=\"ltx_td ltx_align_center ltx_border_b\" id=\"S4.T4.2.2.7.4\"><span class=\"ltx_text ltx_font_bold\" id=\"S4.T4.2.2.7.4.1\">91.00</span></td>\n</tr>\n</table>", "caption": "Table 4: Impact of different format selection strategies during optimization.", "description": "This table presents the results of an ablation study comparing different format selection strategies used in the Content-Format Integrated Prompt Optimization (CFPO) framework.  Specifically, it contrasts the performance of CFPO using its proposed Upper Confidence Bound (UCT) algorithm for format selection against two alternative approaches: a random selection of formats and a greedy selection strategy (using UCT with \u03b1 = 0). The results are shown for two different tasks, GSM8K (a reasoning task) and Big-Bench (a classification task). The comparison highlights the effectiveness of the UCT-based approach in balancing exploration and exploitation during the search for optimal prompt formats.", "section": "4.3 Ablation Study"}]