[{"figure_path": "https://arxiv.org/html/2501.08332/x2.png", "caption": "Figure 1: Line art colorization results. We propose MangaNinja, a reference-based line art colorization method.\nMangaNinja automatically aligns the reference with the line art for colorization, demonstrating remarkable consistency. Additionally, users can achieve more complex tasks using point control. We hope that MangaNinja can accelerate the colorization process in the anime industry.", "description": "This figure showcases example results from the MangaNinja line art colorization method.  Each row presents a line art image, its corresponding reference image, and the colorized result produced by MangaNinja. The results highlight the method's ability to accurately transfer colors from the reference image to the line art while maintaining consistency.  MangaNinja's automatic alignment process ensures that colors are applied appropriately, even in intricate designs. The figure also demonstrates how precise point control, using user-defined points, can be employed for achieving more complex colorization tasks beyond simple color transfer.", "section": "Introduction"}, {"figure_path": "https://arxiv.org/html/2501.08332/x3.png", "caption": "Figure 2: Visualization of point guidance. By introducing points as guidance, MangaNinja\u00a0can tackle many challenging tasks, such as when there are significant variations between reference images and line art while preserving details. See more in\u00a0Sec.\u00a04.3.", "description": "Figure 2 showcases how MangaNinja uses point-based guidance to overcome challenges in line art colorization.  The examples highlight situations where the reference image and line art differ significantly, such as when there are extreme poses or missing details in the line art.  By adding points to specify color correspondences, the model accurately matches colors even with these discrepancies, preserving details and character identity, as detailed in section 4.3.", "section": "Method"}, {"figure_path": "https://arxiv.org/html/2501.08332/x4.png", "caption": "Figure 3: The training process of MangaNinja. We randomly select two frames from video data, using one frame as a reference image and extracting the line art from the other.\nBoth frames are input into the Reference U-Net and the Denoising U-Net, respectively.\nTo enhance the model\u2019s automatic matching and fine-grained control capabilities, we propose a series of training strategies, including progressive patch shuffling.\nAdditionally, we employ an off-the-shelf model to extract matching points from the two frames, and these point maps are fed into the main branch through PointNet.", "description": "MangaNinja's training process begins by randomly selecting two frames from a video dataset.  One frame serves as the reference image, while the other undergoes line art extraction.  Both the reference image and its corresponding line art are fed into separate networks: the Reference U-Net and the Denoising U-Net, respectively.  To improve the model's ability to automatically match features and allow for fine-grained control during colorization, MangaNinja incorporates several training techniques.  A key strategy is progressive patch shuffling, where the reference image is divided into patches and randomly rearranged to encourage the model to learn local semantic correspondences, rather than just relying on global style transfer.   Furthermore, an off-the-shelf model extracts matching point pairs between the reference image and the line art. This point map information is then integrated into the main network branch via PointNet, enhancing the model's precision and user control capabilities.", "section": "3. Method"}, {"figure_path": "https://arxiv.org/html/2501.08332/x5.png", "caption": "Figure 4: Qualitative comparisons. We compare our method with the state-of-the-art non-generative colorization method BasicPBC, the consistency generation method IP-Adapter, and AnyDoor. The results demonstrate that our method significantly outperforms them in terms of colorization accuracy and generated image quality. Notably, our method does not use points for guidance in the generated results.", "description": "Figure 4 presents a qualitative comparison of MangaNinja against three other state-of-the-art line art colorization methods: BasicPBC (non-generative), IP-Adapter (consistency generation), and AnyDoor.  The comparison showcases MangaNinja's superior performance in terms of both color accuracy and the overall quality of the generated colorized images.  Importantly, MangaNinja achieves these results without requiring any user-provided point guidance, unlike some of the other methods shown for comparison.", "section": "4.2. Comparisons"}, {"figure_path": "https://arxiv.org/html/2501.08332/x6.png", "caption": "Figure 5: Visualization of varying poses or missing details. With point guidance, MangaNinja\u00a0can tackle many challenging cases. For instance, in the first two rows, there are significant variations between the reference image and line art.\nFurthermore, users can employ point guidance to colorize regions or elements with no matches in the reference; for example, the lower parts of the clothing are missing in the reference image of the third sample.\nWhen dealing with multiple objects, point guidance effectively prevents color confusion, as demonstrated in the last row.", "description": "Figure 5 showcases MangaNinja's ability to handle challenging line art colorization scenarios using point-based guidance.  The examples demonstrate successful colorization despite significant differences between the line art and reference images (rows 1 and 2).  It also highlights the capability to colorize areas in the line art lacking corresponding details in the reference image (e.g., lower garment in row 2, third sample). Finally, it shows how point guidance helps prevent color confusion when multiple interacting objects are present in a single image (last row).", "section": "4.3. Challenging Cases with Point Guidance"}, {"figure_path": "https://arxiv.org/html/2501.08332/x7.png", "caption": "Figure 6: Visualization of multi-ref colorization. MangaNinja\u00a0enables users to select specific areas from multiple reference images through points, providing guidance for all elements in the line art.\nAdditionally, it effectively resolves conflicts between similar visual elements across the reference images.", "description": "Figure 6 showcases MangaNinja's ability to handle multiple reference images for line art colorization.  Users can interactively select specific regions within each reference image using points. These points guide MangaNinja in coloring the target line art, ensuring that the colors are consistent with the selected areas in the references.  The key benefit demonstrated is MangaNinja's capacity to resolve conflicts between similar visual elements that might appear differently colored across the multiple reference images, thus creating a more unified and harmonious final colorization.", "section": "4.3. Challenging Cases with Point Guidance"}]